# POLYMORPH-4 Lite Production Environment Configuration
# Copy this file to .env and update with your production values

# ============================================================================
# SYSTEM CONFIGURATION
# ============================================================================
ENVIRONMENT=production
LOG_LEVEL=INFO
DATA_DIR=/mnt/data/Polymorph4_Retrofit_Kit_v1

# ============================================================================
# SECURITY
# ============================================================================
# CRITICAL: Generate a strong secret key for production
# Use: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_THIS_TO_RANDOM_SECRET_KEY_IN_PRODUCTION

# JWT Configuration
JWT_ALGORITHM=HS256
JWT_EXPIRATION_SECONDS=3600

# Multi-Factor Authentication
MFA_ENABLED=true

# Password Policy
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SPECIAL=true

# ============================================================================
# DATABASE
# ============================================================================
# Redis for state persistence and caching
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD
REDIS_DB=0

# SQLite for audit trails (or configure PostgreSQL for production)
DATABASE_URL=sqlite:///./data/polymorph.db

# ============================================================================
# AI SERVICE
# ============================================================================
AI_SERVICE_URL=http://localhost:3000/infer
AI_SERVICE_TIMEOUT=5.0

# Circuit Breaker Configuration
AI_CIRCUIT_BREAKER_THRESHOLD=3
AI_CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60

# ============================================================================
# API CONFIGURATION
# ============================================================================
API_HOST=0.0.0.0
API_PORT=8001

# CORS Origins (comma-separated)
CORS_ORIGINS=https://polymorph.yourlab.edu,https://www.yourlab.edu

# Rate Limiting
RATE_LIMIT_PER_MINUTE=100
RATE_LIMIT_PER_HOUR=1000

# ============================================================================
# HARDWARE CONFIGURATION
# ============================================================================
# DAQ Backend: gamry, ni, redpitaya, simulator
DAQ_BACKEND=simulator

# Raman Provider: horiba, ocean, andor, simulator
RAMAN_PROVIDER=simulator

# Hardware Timeouts (seconds)
DAQ_TIMEOUT=10.0
RAMAN_TIMEOUT=5.0

# ============================================================================
# EMAIL / ALERTING
# ============================================================================
SMTP_ENABLED=false
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=alerts@yourlab.edu
SMTP_PASSWORD=your_app_specific_password
SMTP_FROM_EMAIL=polymorph@yourlab.edu
SMTP_FROM_NAME=POLYMORPH-4 Alerts

# Alert Recipients (comma-separated)
ALERT_RECIPIENTS=admin@yourlab.edu,ops@yourlab.edu

# ============================================================================
# MONITORING
# ============================================================================
# Prometheus
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_ENABLED=true
GRAFANA_PORT=3000
GRAFANA_ADMIN_PASSWORD=CHANGE_THIS_GRAFANA_PASSWORD

# ============================================================================
# BACKUP CONFIGURATION
# ============================================================================
BACKUP_ENABLED=true
BACKUP_DIR=/backups/polymorph
BACKUP_RETENTION_DAYS=30
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM

# ============================================================================
# SSL/TLS
# ============================================================================
SSL_ENABLED=true
SSL_CERT_PATH=/etc/letsencrypt/live/polymorph.yourlab.edu/fullchain.pem
SSL_KEY_PATH=/etc/letsencrypt/live/polymorph.yourlab.edu/privkey.pem

# ============================================================================
# COMPLIANCE
# ============================================================================
# 21 CFR Part 11
AUDIT_TRAIL_ENABLED=true
ELECTRONIC_SIGNATURES_ENABLED=true
TWO_PERSON_RULE_ENABLED=false

# Audit Log Retention (days)
AUDIT_LOG_RETENTION=2555  # 7 years

# ============================================================================
# FRONTEND
# ============================================================================
FRONTEND_URL=https://polymorph.yourlab.edu
VITE_API_BASE_URL=https://polymorph.yourlab.edu/api

# ============================================================================
# DOCKER SPECIFIC
# ============================================================================
COMPOSE_PROJECT_NAME=polymorph
DOCKER_REGISTRY=docker.io/yourorg

# ============================================================================
# DEVELOPMENT/DEBUG (Disable in production)
# ============================================================================
DEBUG=false
RELOAD=false
