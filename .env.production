# POLYMORPH-LITE Production Environment Configuration
# Copy this file to .env and update with your actual values

# ============================================================================
# Application Settings
# ============================================================================
POLYMORPH_ENV=production
ENVIRONMENT=production
LOG_LEVEL=INFO
LOG_FORMAT=json

# ============================================================================
# Security - CRITICAL: Change these in production!
# ============================================================================
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=CHANGE_THIS_TO_A_RANDOM_SECRET_KEY_IN_PRODUCTION
JWT_SECRET_KEY=CHANGE_THIS_TO_A_DIFFERENT_RANDOM_SECRET_KEY

# ============================================================================
# Database Configuration
# ============================================================================
POSTGRES_USER=polymorph
POSTGRES_PASSWORD=CHANGE_THIS_STRONG_PASSWORD
POSTGRES_DB=polymorph_db
POSTGRES_PORT=5432

# Full database URL (auto-constructed in docker-compose)
DATABASE_URL=postgresql+psycopg2://polymorph:CHANGE_THIS_STRONG_PASSWORD@postgres:5432/polymorph_db

# Database pool settings
P4_DATABASE_ECHO=false
P4_DATABASE_POOL_SIZE=5
P4_DATABASE_MAX_OVERFLOW=10

# ============================================================================
# Redis Configuration
# ============================================================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=CHANGE_THIS_REDIS_PASSWORD

# ============================================================================
# AI Service Configuration
# ============================================================================
AI_SERVICE_URL=http://ai-service:3000/infer
AI_SERVICE_IMAGE=polymorph:j52wavwkic73h4ri
AI_SERVICE_PORT=3000
PMM_SERVICE_URL=http://ai-service:3000

# ============================================================================
# Application Ports
# ============================================================================
BACKEND_PORT=8001
FRONTEND_PORT=80

# ============================================================================
# Monitoring and Observability
# ============================================================================
ENABLE_SENTRY=false
SENTRY_DSN=

# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_PORT=3001
GRAFANA_PASSWORD=CHANGE_THIS_GRAFANA_PASSWORD

# ============================================================================
# Docker and Deployment
# ============================================================================
RUN_MIGRATIONS=true
SEED_DATA=true
RELOAD=false
WORKERS=4

# ============================================================================
# Frontend Configuration
# ============================================================================
VITE_API_URL=http://localhost:8001

# ============================================================================
# Data Storage
# ============================================================================
P4_DATA_DIR=/mnt/data
P4_LOGS_DIR=/app/logs

# ============================================================================
# Additional Settings
# ============================================================================
HOST=0.0.0.0
PORT=8001

# ============================================================================
# IMPORTANT PRODUCTION CHECKLIST
# ============================================================================
# [ ] Change all passwords and secret keys
# [ ] Configure HTTPS/TLS with reverse proxy (nginx/traefik)
# [ ] Set up proper backup strategy for PostgreSQL
# [ ] Configure log aggregation (ELK, Loki, etc.)
# [ ] Set up monitoring alerts (Prometheus + Alertmanager)
# [ ] Configure firewall rules
# [ ] Set up SSL certificates (Let's Encrypt recommended)
# [ ] Review and harden security settings
# [ ] Test disaster recovery procedures
# [ ] Configure proper CORS origins for production domain
# ============================================================================
